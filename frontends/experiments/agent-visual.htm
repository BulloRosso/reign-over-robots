<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Card Design</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="card">
    <div class="header">
        <h1>Researcher</h1>
        <div class="contextwindow">
            <div id="donut"></div> 
            <img src="cloud.svg" style="width:80%;position:relative;top:-42px;left:206px;"/>
        </div>
    </div>
    <div class="content">
        <h2>Ollama3</h2>
        <p class="toollegend">
            Tools:
        </p>
        <div class="tools">
            <p><span class="status red"></span>CRM Bridge</p>
            <p><span class="status green"></span>FileSearch</p>
        </div>
       
    </div>
    <div class="costs">
        2.1k Tokens
    </div>
</div>

<script>

    // Pie chart showing (s)ystem, (t)ask and (f)ree context memory
    //
    function updatePieChart(ctx_s, ctx_t, ctx_f) {
        // Calculate the total of all segments
        const total = ctx_s + ctx_t + ctx_f;

        // Calculate the end degrees of each segment based on their proportion of the total
        const degree_s = (ctx_s / total) * 360;
        const degree_st = degree_s + (ctx_t / total) * 360;

        // Set the background gradient of the pie chart
        const css = `conic-gradient(
            orange 0deg ${degree_s}deg, 
            gold ${degree_s}deg ${degree_st}deg, 
            green ${degree_st}deg 360deg
        )`;

        document.querySelector('#donut').style.background = css;
        
    }

    // Example values for the pie chart
    updatePieChart(50, 40, 10);

</script>

</body>
</html>
